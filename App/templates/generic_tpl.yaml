# 不添加 `interval: 3600` 的原因: clash-meta 重载配置时, 如果检测到要更新配置会更新 url, 这样会导致加载速度慢。
pp: &pp {intehealth-check: {enable: true, url: https://www.gstatic.com/generate_204, interval: 300}}
delay_test: &delay_test {url: https://www.gstatic.com/generate_204, interval: 300}

proxy-groups:
  - name: "Entry"
    type: select
    proxies:
      - <Auto>
      - <Select>

  - name: "Select"
    tpl_param:
      providers: ["provider"]
    type: select

  - name: "Auto"
    tpl_param:
      providers: ["provider"]
    type: url-test
    <<: *delay_test

  - name: "Entry-RuleMode"
    type: select
    proxies:
      - DIRECT
      - Entry

  - name: "Entry-LastMatch"
    type: select
    proxies:
      - Entry
      - DIRECT

proxy-providers:
  provider:
    tpl_param:
    type: http    # type 字段要放在此处, 不能放入 pp。原因是要用于更新资源。
    <<: *pp

rules:
- GEOSITE,biliintl,Entry
- GEOSITE,ehentai,Entry
- GEOSITE,github,Entry
- GEOSITE,twitter,Entry
- GEOSITE,youtube,Entry
- GEOSITE,google,Entry
- GEOSITE,telegram,Entry
- GEOSITE,netflix,Entry
- GEOSITE,bilibili,Entry-RuleMode
- GEOSITE,bahamut,Entry
- GEOSITE,spotify,Entry
- GEOSITE,geolocation-!cn,Entry
- GEOIP,google,Entry
- GEOIP,netflix,Entry
- GEOIP,telegram,Entry
- GEOIP,twitter,Entry
- GEOSITE,pixiv,Entry
- GEOSITE,CN,Entry-RuleMode
- GEOIP,CN,Entry-RuleMode
- MATCH,Entry-LastMatch
